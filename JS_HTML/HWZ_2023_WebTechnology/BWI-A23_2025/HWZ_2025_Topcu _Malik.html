<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0062)https://hwz.peterliwiese.ch/examples/FormTest_formHandler.html -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<!--    
    Source:    ./DatenFiles/HTML/FormTest_formHandler.html
    Published: https://hwz.peterliwiese.ch/examples/FormTest_formHandler.html



	Ehrenwörtliche Erklärung
	------------------------
   
	Hiermit bestätige ich, Malik Topcu, diesen Leistungsnachweis 
	ohne fremde Hilfe nur mit den erlaubten Hilfsmittel während der offiziellen 
	vereinbarten Zeitdauer erstellt zu haben.

	Bewertung
	---------
	1) Richtiger Filename / Ehrenwörtliche Erklärung
	2) Korrekte Formatierung
	3) Korrektes XHTML
	4) Korrekte zusätzliche Felder (inkl. title und body)
	5) CSS eingebunden
	6) Erweitertes Antwort-Template eingebunden
	7) Feldernamen entsprechend neuem Antwort-Template angepasst
	8) Postleitzahl wird Clientseitig überprüft (korrigiert)
	9) Warnungs-Symbol mit CSS-Style zugefügt
	10) Eventhadler eingebaut und Symbole ändern
	                                                                 --------
	                                                         Punkte:
	                                                                 --------
	                                       Note = 0.5 * Punkte + 1 =
	                                                                 ========
	-->
	

<title>Kundenformular</title>
 <link rel="stylesheet" type="text/css" href="https://hwz.peterliwiese.ch/examples/CSS_HWZ_Style_01.css" />
 <style type="text/css">
  #plzWarn {
    margin-left: 8px;
    color: red;
    font-size: 18px;
  }
</style>

</head>

<body>
  <h2>Anmeldeformular für Geschäftsanlasse</h2>
  <p>
    Hiermit melde ich mich für den Anlass vom
  </p>

  <form method="get" name="adressForm" action="https://www.peterliwiese.ch/cgi-bin/formHandler.pl">

	<table>
  <tbody>
  
 <tr>
  <td>Name:</td>
  <td>
    <input type="text" name="Name" id="nameField" value="Topcu" />
    <img src="https://www.peterliwiese.ch/img/Warning.svg"
         id="warnName"
         style="width:16px; height:16px; margin-left:5px;" />
    <img src="https://www.peterliwiese.ch/img/Verified.svg"
         id="okName"
         style="width:16px; height:16px; margin-left:5px; display:none;" />
  </td>
</tr>

<tr>
  <td>Vorname:</td>
  <td>
    <input type="text" name="Vorname" id="vornameField" value="Malik" />
    <img src="https://www.peterliwiese.ch/img/Warning.svg"
         id="warnVorname"
         style="width:16px; height:16px; margin-left:5px;" />
    <img src="https://www.peterliwiese.ch/img/Verified.svg"
         id="okVorname"
         style="width:16px; height:16px; margin-left:5px; display:none;" />
  </td>
</tr>

<tr>
  <td>Email:</td>
  <td>
    <input type="text" name="Email" id="emailField" size="30"
           value="malik.topcu@student.fh-hwz.ch" />
    <img src="https://www.peterliwiese.ch/img/Warning.svg"
         id="warnEmail"
         style="width:16px; height:16px; margin-left:5px;" />
    <img src="https://www.peterliwiese.ch/img/Verified.svg"
         id="okEmail"
         style="width:16px; height:16px; margin-left:5px; display:none;" />
  </td>
</tr>


<tr>
  <td>PLZ / Ort:</td>
  <td>
    <input type="text"
       name="PLZ"
       id="plz"
       size="4"
       value="8340"
       maxlength="4"
       oninput="filterPLZ(this); validatePLZ();"
       onchange="validatePLZ()" />


    <img src="https://www.peterliwiese.ch/img/Warning.svg"
         id="plzWarn"
         style="width:16px; height:16px; margin-left:5px; display:inline;" />

    <input type="text" name="Wohnort" size="20" value="Hinwil" />
  </td>
</tr>



<tr><td colspan="2"><br /></td></tr>

    <tr>
      <td>ÖV-Vergünstigung:</td>
      <td>
		<input type="radio" name="SbbVaucher" value="Nichts" /> Nichts
		<input type="radio" name="SbbVaucher" value="Halbpreis" /> 1/2 Preis
		<input type="radio" name="SbbVaucher" value="GA" /> GA
      </td>
    </tr>

    <tr>
      <td>Mittagessen:</td>
      <td>
        <input type="checkbox" name="Vegan" value="Ja" /> Vegan
      </td>
    </tr>

    
<tr>
  <td colspan="2"><br /></td>
</tr>

<tr>
  <td colspan="2">
    Ich komme in Begleitung von 
    <select name="Begleitpersonen">
      <option value="keiner">keiner</option>
      <option value="1">einer</option>
      <option value="2">zwei</option>
	  <option value="3">drei</option>
    </select>
    weiteren Person(en)
  </td>
</tr>

<tr>
  <td colspan="2"><br /></td>
</tr>

<tr>
  <td>Kommentar:</td>
  <td>
    <textarea name="Kommentar" rows="5" cols="50"></textarea>
  </td>
</tr>
  </tbody>
</table>

<input type="hidden" name="constrain_PLZ"
       value="isInteger(XXXX,1000,9999,<B>Postleitzahl</B> muss zwischen 1000 und 9999 sein)" />

<input type="hidden" name="cgiCmdHidden_replyTemplateSuccess"
       value="http://www.hwz.peterliwiese.ch/examples/testSuccessTemplate_01.html" />

<input type="hidden" name="cgiCmdHidden_replyTemplateNotSuccess"
       value="http://www.hwz.peterliwiese.ch/examples/testNotSuccessTemplate.html" />

<input type="hidden" name="cgiCmdHidden_emailTemplate"
       value="http://www.hwz.peterliwiese.ch/examples/testEmailTemplate.html" />

<input type="hidden" name="cgiCmdHidden_emailSubject"
       value="Anmeldung" />

<input type="hidden" name="cgiCmdHidden_emailToAddrs"
       value="anmeldung@peterliwiese.ch" />

<input type="hidden" name="cgiCmdHidden_emailFromAddr"
       value="FormField:Email" />

<input type="hidden" name="cgiCmdHidden_emailSentAsHTML"
       value="YES" />

<input type="hidden" name="cgiCmdHidden_emailTemplate_1"
       value="http://www.hwz.peterliwiese.ch/examples/testEmailTemplate.txt" />

<input type="hidden" name="cgiCmdHidden_emailSubject_1"
       value="Anmeldung (Text)" />

<input type="hidden" name="cgiCmdHidden_emailToAddrs_1"
       value="FormField:Email" />

<input type="hidden" name="cgiCmdHidden_emailFromAddr_1"
       value="anmeldung@peterliwiese.ch" />

<input type="hidden" name="cgiCmdHidden_emailSentAsHTML_1"
       value="NO" />

<input type="hidden" name="cgiCmdHidden_countOfEmails"
       value="2" />

<input type="hidden" name="cgiCmdHidden_doDebug"
       value="Yes" />

    <input type="submit" name="submitted" value="Anmelden" />
	<input type="reset" value="Eingaben löschen" />

  </form>
  
<script type="text/javascript">
  function validateText(fieldId, warnId, okId) {
    var value = document.getElementById(fieldId).value;
    var warn = document.getElementById(warnId);
    var ok = document.getElementById(okId);

    if (value.length === 0) {
      warn.style.display = "inline";
      ok.style.display = "none";
      return false;
    } else {
      warn.style.display = "none";
      ok.style.display = "inline";
      return true;
    }
  }

  function validatePLZ() {
    var plz = document.getElementById("plz").value;
    var warn = document.getElementById("plzWarn");

    var valid = true;

    if (isNaN(plz)) { valid = false; }
    if (plz.length !== 4) { valid = false; }

    var num = parseInt(plz, 10);
    if (num < 1000 || num > 9999) { valid = false; }

    if (valid) {
      warn.src = "https://www.peterliwiese.ch/img/Verified.svg";
    } else {
      warn.src = "https://www.peterliwiese.ch/img/Warning.svg";
    }

    return valid;
  }

  document.getElementById("nameField").onkeyup = function () {
    validateText("nameField", "warnName", "okName");
  };

  document.getElementById("vornameField").onkeyup = function () {
    validateText("vornameField", "warnVorname", "okVorname");
  };

  document.getElementById("emailField").onkeyup = function () {
    validateText("emailField", "warnEmail", "okEmail");
  };

  document.getElementById("plz").onkeyup = validatePLZ;

  document.forms["adressForm"].onsubmit = function () {
    var ok1 = validateText("nameField", "warnName", "okName");
    var ok2 = validateText("vornameField", "warnVorname", "okVorname");
    var ok3 = validateText("emailField", "warnEmail", "okEmail");
    var ok4 = validatePLZ();
    return ok1 && ok2 && ok3 && ok4;
  };
  
</script>
</body>
</html>
