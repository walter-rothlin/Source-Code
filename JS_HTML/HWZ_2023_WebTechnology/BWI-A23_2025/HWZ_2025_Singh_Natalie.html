<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0062)https://hwz.peterliwiese.ch/examples/FormTest_formHandler.html -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--    
    Source:    ./DatenFiles/HTML/FormTest_formHandler.html
    Published: https://hwz.peterliwiese.ch/examples/FormTest_formHandler.html



	Ehrenwörtliche Erklärung
	------------------------
   
	Hiermit bestätige ich, Natalie Singh, diesen Leistungsnachweis 
	ohne fremde Hilfe nur mit den erlaubten Hilfsmittel während der offiziellen 
	vereinbarten Zeitdauer erstellt zu haben.

	Bewertung
	---------
	1) Richtiger Filename / Ehrenwörtliche Erklärung
	2) Korrekte Formatierung
	3) Korrektes XHTML
	4) Korrekte zusätzliche Felder (inkl. title und body)
	5) CSS eingebunden
	6) Erweitertes Antwort-Template eingebunden
	7) Feldernamen entsprechend neuem Antwort-Template angepasst
	8) Postleitzahl wird Clientseitig überprüft (korrigiert)
	9) Warnungs-Symbol mit CSS-Style zugefügt
	10) Eventhadler eingebaut und Symbole ändern
	                                                                 --------
	                                                         Punkte:
	                                                                 --------
	                                       Note = 0.5 * Punkte + 1 =
	                                                                 ========
	-->
	

    <title>Anmeldeformular für Geschäftsanlasse</title>

    <link rel="stylesheet" href="https://hwz.peterliwiese.ch/examples/CSS_HWZ_Style_01.css" />

    <style type="text/css">
        .warnIcon {
            width: 18px;
            vertical-align: middle;
            margin-left: 5px;
        }
        .invalidField {
            background-color: #ffcccc;
        }
    </style>

    <script type="text/javascript">
        function checkPLZ() {
            var plz = document.getElementById('plz').value;
            var regex = /^[0-9]{4}$/;

            if (!regex.test(plz)) {
                alert("Die PLZ muss genau 4 Ziffern enthalten.");
                document.getElementById("plz").value = "";
            }
        }

        function validateText(id, iconId) {
            var f = document.getElementById(id);
            var icon = document.getElementById(iconId);

            if (f.value.length >= 2) {
                f.className = "";
                icon.src = "https://www.peterliwiese.ch/img/Verified.svg";
            } else {
                f.className = "invalidField";
                icon.src = "https://www.peterliwiese.ch/img/Warning.svg";
            }
        }

        function validateEmail() {
            var f = document.getElementById("email");
            var icon = document.getElementById("emailIcon");
            var ok = /^[^@]+@[^@]+\.[^@]+$/.test(f.value);

            if (ok) {
                f.className = "";
                icon.src = "https://www.peterliwiese.ch/img/Verified.svg";
            } else {
                f.className = "invalidField";
                icon.src = "https://www.peterliwiese.ch/img/Warning.svg";
            }
        }
    </script>
</head>

<body>

    <h2>Anmeldeformular für Geschäftsanlasse</h2>

    <p>Hiermit melde ich mich für den Anlass vom</p>

    <form method="get"
          action="https://www.peterliwiese.ch/cgi-bin/formHandler.pl"
          name="anmeldeform">

        <table>

            <tr>
                <td>Name:</td>
                <td>
                    <input type="text" id="name" name="Name"
                           onkeyup="validateText('name','nameIcon')" />
                    <img id="nameIcon"
                         src="https://www.peterliwiese.ch/img/Warning.svg"
                         class="warnIcon" alt="Warnsymbol" />
                </td>
            </tr>

            <tr>
                <td>Vorname:</td>
                <td>
                    <input type="text" id="vorname" name="Vorname"
                           onkeyup="validateText('vorname','vornameIcon')" />
                    <img id="vornameIcon"
                         src="https://www.peterliwiese.ch/img/Warning.svg"
                         class="warnIcon" alt="Warnsymbol" />
                </td>
            </tr>

            <tr>
                <td>Email:</td>
                <td>
                    <input type="text" id="email" name="Email"
                           onkeyup="validateEmail()" />
                    <img id="emailIcon"
                         src="https://www.peterliwiese.ch/img/Warning.svg"
                         class="warnIcon" alt="Warnsymbol" />
                </td>
            </tr>

            <tr>
                <td>PLZ:</td>
                <td>
                    <input type="text" id="plz" name="PLZ" size="4"
                           onchange="checkPLZ()" />
                    Ort:
                    <input type="text" name="Wohnort" />
                </td>
            </tr>

            <tr>
                <td>ÖV Vergünstigung:</td>
                <td>
                    <input type="radio" name="SbbVaucher" value="Nichts" checked="checked" /> Nichts
                    <input type="radio" name="SbbVaucher" value="Halbtax" /> 1/2 Preis
                    <input type="radio" name="SbbVaucher" value="GA" /> GA
                </td>
            </tr>

            <tr>
                <td>Mittagessen:</td>
                <td>
                    <input type="checkbox" name="Vegan" value="Ja" /> Vegan
                    <input type="hidden" name="Vegan" value="Nein" />
                </td>
            </tr>

            <tr>
                <td>
                    Ich komme in Begleitung von
                    <select name="Begleitpersonen">
                        <option value="0">keiner</option>
                        <option value="1">einer</option>
                        <option value="2">zwei</option>
                        <option value="3">drei</option>
                    </select>
                    weiteren Person(en)
                </td>
            </tr>

            <tr>
                <td>Kommentar:</td>
            </tr>

            <tr>
                <td colspan="2">
                    <textarea name="Kommentar" rows="5" cols="40"></textarea>
                </td>
            </tr>

        </table>

        <input type="hidden" name="constrain_PLZ"
               value="isInteger(XXXX,1000,9999,Postleitzahl muss zwischen 1000 und 9999 sein)" />

        <input type="hidden" name="cgiCmdHidden_replyTemplateSuccess"
               value="http://www.hwz.peterliwiese.ch/examples/testSuccessTemplate_01.html" />
        <input type="hidden" name="cgiCmdHidden_replyTemplateNotSuccess"
               value="http://www.hwz.peterliwiese.ch/examples/testNotSuccessTemplate.html" />

        <input type="hidden" name="cgiCmdHidden_emailTemplate"
               value="http://www.hwz.peterliwiese.ch/examples/testEmailTemplate.html" />
        <input type="hidden" name="cgiCmdHidden_emailSubject" value="Anmeldung" />
        <input type="hidden" name="cgiCmdHidden_emailToAddrs" value="anmeldung@peterliwiese.ch" />
        <input type="hidden" name="cgiCmdHidden_emailFromAddr" value="FormField:Email" />
        <input type="hidden" name="cgiCmdHidden_emailSentAsHTML" value="YES" />

        <br /><br />

        <input type="submit" value="Anmelden" />
        <input type="reset" value="Eingaben löschen" />

    </form>

</body>
</html>
